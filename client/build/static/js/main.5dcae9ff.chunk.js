(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t){},110:function(e,t){},117:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(50),o=n.n(r),i=(n(60),n(1)),u=n(15),l=n(51),s=n.n(l),f=n(23),m=n.n(f),b=n(16);n(117);function j(){var e=Object(u.a)(["\n  border: 1px solid blue;\n  width: 50%;\n  height: 50vh;\n  margin-bottom: 3rem;\n"]);return j=function(){return e},e}function O(){var e=Object(u.a)(["\n  display: flex;\n  width: 100%;\n"]);return O=function(){return e},e}function d(){var e=Object(u.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return d=function(){return e},e}var v=b.a.div(d()),g=b.a.div(O()),h=b.a.video(j());var E=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!0),u=Object(i.a)(o,2),l=u[0],f=u[1],b=Object(a.useState)(!0),j=Object(i.a)(b,2),O=j[0],d=j[1],E=Object(a.useState)({}),p=Object(i.a)(E,2),k=p[0],y=p[1],S=Object(a.useState)(),w=Object(i.a)(S,2),C=w[0],x=w[1],I=Object(a.useState)([]),T=Object(i.a)(I,2),A=T[0],D=T[1],M=Object(a.useState)([]),P=Object(i.a)(M,2),R=P[0],U=P[1],B=Object(a.useState)(!1),J=Object(i.a)(B,2),V=J[0],W=J[1],L=Object(a.useState)(""),$=Object(i.a)(L,2),q=$[0],z=$[1],F=Object(a.useState)(),G=Object(i.a)(F,2),H=G[0],K=G[1],N=Object(a.useState)(!1),Q=Object(i.a)(N,2),X=Q[0],Y=Q[1],Z=Object(a.useRef)(),_=Object(a.useRef)(),ee=Object(a.useRef)();Object(a.useEffect)((function(){ee.current=s()("/"),ce(),ee.current.on("yourID",(function(e){r(e)})),ee.current.on("allUsers",(function(e){y(e)})),ee.current.on("hey",(function(e){W(!0),z(e.from),K(e.signal)}))}),[]);var te,ne,ae,ce=function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){x(e),Z.current&&(Z.current.srcObject=e),D(e.getVideoTracks()),U(e.getAudioTracks()),console.log(e.getVideoTracks()),console.log(e.getAudioTracks())}))};return C&&(te=c.a.createElement(h,{playsInline:!0,muted:!0,ref:Z,autoPlay:!0})),X&&(ne=c.a.createElement(h,{playsInline:!0,ref:_,autoPlay:!0})),V&&(ae=c.a.createElement("div",null,c.a.createElement("h1",null,q," is calling you"),c.a.createElement("button",{onClick:function(){Y(!0);var e=new m.a({initiator:!1,trickle:!1,stream:C});e.on("signal",(function(e){ee.current.emit("acceptCall",{signal:e,to:q})})),e.on("stream",(function(e){_.current.srcObject=e})),e.signal(H)}},"Aceptar"))),c.a.createElement(v,null,c.a.createElement(g,null,te,ne),c.a.createElement(g,null,Object.keys(k).map((function(e){return e===n?null:c.a.createElement("button",{key:e,onClick:function(){return function(e){var t=new m.a({initiator:!0,trickle:!1,stream:C});t.on("signal",(function(t){ee.current.emit("callUser",{userToCall:e,signalData:t,from:n})})),t.on("stream",(function(e){_.current&&(_.current.srcObject=e)})),ee.current.on("callAccepted",(function(e){Y(!0),t.signal(e)}))}(e)}},"Llamar a ",e)}))),c.a.createElement(g,null,ae),c.a.createElement("div",null,c.a.createElement("h3",null,"Mi Id: ",n),c.a.createElement("h5",null,"Sockets:"),c.a.createElement("ol",null,Object.keys(k).map((function(e){return c.a.createElement("li",{key:e},e)}))),c.a.createElement("button",{onClick:function(){f(!l),l?A.map((function(e){return e.stop()})):ce()}},"Pausar video"),c.a.createElement("button",{onClick:function(){d(!O),O?R.map((function(e){return e.stop()})):ce()}},"Sileciar micr\xf3fono")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,n){e.exports=n(119)},60:function(e,t,n){},90:function(e,t){}},[[55,1,2]]]);
//# sourceMappingURL=main.5dcae9ff.chunk.js.map